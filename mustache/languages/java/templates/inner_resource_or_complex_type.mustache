{{#isResource}}
@JsonTypeName("{{{saveName}}}")
{{#children.0}}
@JsonSubTypes({
{{#children}}
    @JsonSubTypes.Type(value = {{{saveName}}}.class){{^-last}},{{/-last}}
{{/children}}
})
{{/children.0}}{{/isResource}}
@JsonInclude(JsonInclude.Include.NON_NULL)
@JsonAutoDetect(
    fieldVisibility = JsonAutoDetect.Visibility.NONE,
    getterVisibility = JsonAutoDetect.Visibility.NONE,
    isGetterVisibility = JsonAutoDetect.Visibility.NONE,
    setterVisibility = JsonAutoDetect.Visibility.NONE,
    creatorVisibility = JsonAutoDetect.Visibility.NONE
)
public {{#isNested}}static{{/isNested}} class {{{saveName}}} {{#parents.0}}extends {{{parents.0.saveName}}}{{/parents.0}}{
    {{#isResource}}
    public static final ResourceName NAME = ResourceName.{{#lambda.upperCase}}{{#lambda.snakeCase}}{{saveName}}{{/lambda.snakeCase}}{{/lambda.upperCase}};
    {{/isResource}}

    {{#nestedComplexTypes}}
        {{>inner_resource_or_complex_type}}
    {{/nestedComplexTypes}}

    {{#nestedEnums}}
        {{>inner_enum}}
    {{/nestedEnums}}

    {{#fields}}
        private final {{>annotated_type}} {{{saveName}}};
        {{#isPrimitive}}
            @Nullable
            @JsonProperty("_{{{name}}}")
            private final {{#isArray}}List<{{/isArray}}{{#lambda.saveTypeName}}Element{{/lambda.saveTypeName}}{{#isArray}}>{{/isArray}} _{{{saveName}}};
        {{/isPrimitive}}
    {{/fields}}

    protected {{{saveName}}}(){
        {{#fields}}
            this.{{{saveName}}} = null;
            {{#isPrimitive}}
                this._{{{saveName}}} = null;
            {{/isPrimitive}}
        {{/fields}}
    }
    {{#isResource}}
    public ResourceName resourceName() {
        return {{{saveName}}}.NAME;
    }
    {{/isResource}}

    {{#isResource.isDomainResource}}
        {{>additional_extension_behaviour}}
    {{/isResource.isDomainResource}}
    {{#isComplexType.isElement}}
        {{>additional_extension_behaviour}}
    {{/isComplexType.isElement}}

    {{#fields}}
        {{>field_getter}}
    {{/fields}}


    {{#properties.features.builder}}
        {{>feature_builder}}
    {{/properties.features.builder}}

    {{#properties.features.hash_code_equals}}
        {{>feature_hashcode_equals}}
    {{/properties.features.hash_code_equals}}
}